# Dynamic Project Summaries from GitHub READMEs

**Date:** 2025-12-27
**Status:** Approved

## Overview

Transform the projects page from a simple list of links to a card-based layout with summaries automatically extracted from GitHub README files. Updates via manually-triggered GitHub Action that fetches README content and generates a data file for Hugo to render.

## Architecture

### Data Flow
1. **Project metadata** lives in `content/projects/_index.md` front matter - lists each GitHub repo
2. **GitHub Action** (manually triggered or on push to main) fetches README.md from each repo via GitHub API
3. **Action extracts** the first paragraph from each README and saves to `data/projects.json`
4. **Hugo layout** reads `data/projects.json` and renders project cards
5. **Cards display** project name, first paragraph summary, and link to GitHub repo

### Key Benefits
- No JavaScript on frontend - pure Hugo
- README content cached in repo as `data/projects.json`
- Works offline once data is fetched
- Easy to debug - just check the JSON file
- GitHub Action runs when needed (on-demand)

## Data Structure

### Front Matter in `content/projects/_index.md`

```yaml
---
title: "Projects"
type: page
projects:
  - name: "TuWire - Juice Jack Apple Devices"
    repo: "whati001/tuwire"
  - name: "Morgeb - Wordclock replica"
    repo: "whati001/morgeb"
  - name: "Tuff-Tuff-Light - Wireless Trailer Light"
    repo: "whati001/tuff-tuff-light"
  - name: "Keksbox - NFC Tag Music Box"
    repo: "whati001/keksbox"
  - name: "CoffeeRat - SmartScale"
    repo: "coffeerat/coffeerat"
    url: "https://www.youtube.com/watch?v=EL8P_DzBC0U"
  - name: "Stmk. Fischerpr√ºfung Onlinefragenkatalog"
    url: "https://fisch.rehka.dev/"
  - name: "SipLine - VoIP sniffer"
    repo: "whati001/sipline"
---
```

### Generated `data/projects.json`

```json
{
  "projects": [
    {
      "name": "TuWire - Juice Jack Apple Devices",
      "repo": "whati001/tuwire",
      "url": "https://github.com/whati001/tuwire",
      "summary": "TuWire is a USB-C power delivery controller that enables juice jacking of Apple devices for security research.",
      "fetched_at": "2025-12-27T10:30:00Z"
    }
  ]
}
```

### Field Definitions
- `name`: Display name for the project
- `repo`: GitHub repository (owner/repo format) - optional
- `url`: Custom URL - optional, overrides auto-generated GitHub URL
- `summary`: First paragraph extracted from README (generated by Action)
- `fetched_at`: Timestamp of when data was fetched (generated by Action)

### Notes
- `repo` field is optional - some projects might only have a URL
- GitHub Action only fetches README for projects with `repo` field
- For projects without `repo`, can manually add `description` field in front matter as fallback
- `url` field allows custom links (YouTube, live demos, etc.)

## GitHub Action Workflow

### File: `.github/workflows/fetch-projects.yml`

### Trigger Points
- Manual dispatch (workflow_dispatch)
- Push to main branch (optional)

### Workflow Steps
1. **Read** front matter from `content/projects/_index.md` to get repo list
2. **Fetch** README.md from each GitHub repo using GitHub API
3. **Extract** first paragraph (text before first empty line or heading)
4. **Generate** `data/projects.json` with all project data
5. **Commit** the JSON file back to repo (if changed)

### Technical Requirements
- Uses `GITHUB_TOKEN` (automatically available in GitHub Actions)
- Parses YAML front matter from markdown file
- Fetches raw README.md from each repo's default branch
- Simple paragraph extraction: split on `\n\n` or stop at `#` heading
- Commits only if `data/projects.json` actually changed

### Error Handling
- If README fetch fails (404, rate limit): skip that project with warning
- Continue processing other projects
- Invalid front matter: stop workflow with clear error
- Missing data file on first run: create new file

### Advantages
- Self-contained - reads config from content file
- Robust - doesn't break if one README is missing
- Transparent - committed JSON shows exactly what Hugo will render

## Hugo Layout Template

### File: `layouts/projects/list.html`

This custom layout overrides the theme's default list template specifically for `/projects/` page.

### Functionality
1. **Load** `data/projects.json` using Hugo's data system
2. **Iterate** through projects and render each as a card
3. **Display** project name, summary, and link
4. **Style** with CSS grid for responsive card layout

### Card Structure
- Title (linked to GitHub or custom URL)
- Summary paragraph (from README or fallback text)
- "View on GitHub" link/button
- Simple border, padding, hover effect

### Data Access
- Use `{{ .Site.Data.projects.projects }}` to access JSON data
- Fallback if data file doesn't exist: show message to run GitHub Action
- Handle missing summaries gracefully

### Layout Strategy
- Create new file (doesn't modify theme files)
- CSS either inline in template or separate file
- Responsive design using CSS Grid
- Leverage Gokarna theme's existing styles where possible

### Fallback Behavior
- Projects without repo/summary: render card with just name and link
- Or show placeholder: "No description available"
- Keeps visual consistency across all cards

## Styling & Visual Design

### CSS Approach
Embedded styles in `layouts/projects/list.html` (self-contained):
- CSS Grid layout for cards
- Styling that complements Gokarna theme
- Minimal custom CSS, leverage theme variables

### Card Styling
- Border with subtle shadow
- Padding for breathing room (16-20px)
- Hover effect (slight scale or shadow change)
- Title as clickable heading (h3)
- Summary text in muted color
- GitHub link styled as button or simple link

### Responsive Breakpoints
```css
Mobile (<768px): 1 column, full width
Tablet (768-1024px): 2 columns
Desktop (>1024px): 3 columns
```

### Fallback Handling
- If `data/projects.json` doesn't exist: "Run GitHub Action to fetch project summaries"
- If project has no summary: "No description available" in lighter text
- Graceful degradation keeps page functional

### Theme Integration
- Use Gokarna's existing font stack
- Match link colors from theme
- Respect dark mode if theme supports it
- Consistent spacing with rest of site

## Implementation Files

### New Files
1. `.github/workflows/fetch-projects.yml` - GitHub Action workflow
2. `layouts/projects/list.html` - Custom Hugo layout for projects page
3. `data/projects.json` - Generated data file (committed to repo)
4. `docs/plans/2025-12-27-dynamic-project-summaries-design.md` - This document

### Modified Files
1. `content/projects/_index.md` - Add front matter with project metadata

### No Changes Needed
- `config.toml` - No configuration changes required
- Theme files - Not modifying theme directly

## Testing Strategy

1. **Initial setup:** Add front matter to `_index.md`, run Action manually
2. **Verify data:** Check `data/projects.json` has correct summaries
3. **Local build:** Run `hugo server` and verify cards render correctly
4. **Responsive:** Test layout at different screen sizes
5. **Edge cases:** Test projects without README, missing repos, custom URLs
6. **Update flow:** Change a README on GitHub, re-run Action, verify update

## Future Enhancements (Out of Scope)

- Add repository stats (stars, forks) from GitHub API
- Display project language/tech stack
- Add project images/screenshots
- Filter/sort projects by category or technology
